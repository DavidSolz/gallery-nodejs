extends layout

block content
  h1.text-center.mb-4= title

  if gallery_list.length
    .d-flex.flex-wrap.justify-content-center
      each gallery in gallery_list
        .card(style='width: 300px; margin: 15px; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); text-align: center; padding: 15px;')
          h4.mb-2= gallery.name
          .card-content(style='text-align: left')
            p.mb-1
              strong Description:
              | #{gallery.description || 'No description'}
            p.mb-1
              strong Creation date:
              | #{gallery.date ? new Date(gallery.date).toLocaleDateString() : 'Unknown'}
            p.mb-3
              strong Owner:
              if gallery.user
                | #{gallery.user.username}

          .actions(style='margin-top: auto; display: flex; flex-direction: column; gap: 6px;')
            form(method='GET', action=`/galleries/gallery_update/${gallery._id}`)
              button.btn.btn-sm.btn-warning(type='submit' style='width: 100%') Update

            form(method='POST', action=`/galleries/gallery_delete/${gallery._id}`)
              button.btn.btn-sm.btn-danger(type='submit', style='width: 100%', onclick='return confirm("Are you sure you want to delete this gallery?")') Delete
  else
    p.text-center.text-muted.mt-5 There are no any galleries.
  if messages && messages.length
    .alert.alert-danger
      ul
        each msg in messages
          li= msg
